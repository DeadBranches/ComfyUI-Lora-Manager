<div class="controls">
    <div class="actions">
        <div class="action-buttons">
            <div data-i18n="loras.controls.sort.title" data-i18n-target="title" title="Sort models by..." class="control-group">
                <select id="sortSelect">
                    <optgroup data-i18n="loras.controls.sort.name" label="Name">
                        <option value="name:asc" data-i18n="loras.controls.sort.nameAsc">A - Z</option>
                        <option value="name:desc" data-i18n="loras.controls.sort.nameDesc">Z - A</option>
                    </optgroup>
                    <optgroup data-i18n="loras.controls.sort.date" label="Date Added">
                        <option value="date:desc" data-i18n="loras.controls.sort.dateDesc">Newest</option>
                        <option value="date:asc" data-i18n="loras.controls.sort.dateAsc">Oldest</option>
                    </optgroup>
                    <optgroup data-i18n="loras.controls.sort.size" label="File Size">
                        <option value="size:desc" data-i18n="loras.controls.sort.sizeDesc">Largest</option>
                        <option value="size:asc" data-i18n="loras.controls.sort.sizeAsc">Smallest</option>
                    </optgroup>
                </select>
            </div>
            <div data-i18n="loras.controls.refresh.title" data-i18n-target="title" title="Refresh model list" class="control-group dropdown-group">
                <button data-action="refresh" class="dropdown-main"><i class="fas fa-sync"></i> <span data-i18n="common.actions.refresh">Refresh</span></button>
                <button class="dropdown-toggle" aria-label="Show refresh options">
                    <i class="fas fa-caret-down"></i>
                </button>
                <div class="dropdown-menu">
                    <div class="dropdown-item" data-action="quick-refresh">
                        <i class="fas fa-bolt"></i> <span data-i18n="loras.controls.refresh.quick">Quick Refresh (incremental)</span>
                    </div>
                    <div class="dropdown-item" data-action="full-rebuild">
                        <i class="fas fa-tools"></i> <span data-i18n="loras.controls.refresh.full">Full Rebuild (complete)</span>
                    </div>
                </div>
            </div>
            
            <div class="control-group">
                <button data-action="fetch" data-i18n="loras.controls.fetch" data-i18n-target="title" title="Fetch from Civitai"><i class="fas fa-download"></i> <span data-i18n="loras.controls.fetch">Fetch</span></button>
            </div>
            <div class="control-group">
                <button data-action="download" data-i18n="loras.controls.download" data-i18n-target="title" title="Download from URL">
                    <i class="fas fa-cloud-download-alt"></i> <span data-i18n="loras.controls.download">Download</span>
                </button>
            </div>
            <div class="control-group">
                <button id="bulkOperationsBtn" data-action="bulk" data-i18n="loras.controls.bulk" data-i18n-target="title" title="Bulk Operations (Press B)">
                    <i class="fas fa-th-large"></i> <span><span data-i18n="loras.controls.bulk">Bulk</span> <div class="shortcut-key">B</div></span>
                </button>
            </div>
            <div class="control-group">
                <button id="findDuplicatesBtn" data-action="find-duplicates" data-i18n="loras.controls.duplicates" data-i18n-target="title" title="Find duplicate models">
                    <i class="fas fa-clone"></i> <span data-i18n="loras.controls.duplicates">Duplicates</span>
                    <span id="duplicatesBadge" class="badge"></span>
                </button>
            </div>
            <div class="control-group">
                <button id="favoriteFilterBtn" data-action="toggle-favorites" class="favorite-filter" data-i18n="loras.controls.favorites" data-i18n-target="title" title="Show favorites only">
                    <i class="fas fa-star"></i> <span data-i18n="loras.controls.favorites">Favorites</span>
                </button>
            </div>
            <div id="customFilterIndicator" class="control-group hidden">
                <div class="filter-active">
                    <i class="fas fa-filter"></i> <span class="customFilterText" title=""></span>
                    <i class="fas fa-times-circle clear-filter"></i>
                </div>
            </div>
        </div>
        
        <div class="controls-right">
            <div class="keyboard-nav-hint tooltip">
                <i class="fas fa-keyboard"></i>
                <span class="tooltiptext">
                    <span data-i18n="keyboard.navigation">Keyboard Navigation:</span>
                    <table class="keyboard-shortcuts">
                        <tr>
                            <td><span class="key">Page Up</span></td>
                            <td data-i18n="keyboard.shortcuts.pageUp">Scroll up one page</td>
                        </tr>
                        <tr>
                            <td><span class="key">Page Down</span></td>
                            <td data-i18n="keyboard.shortcuts.pageDown">Scroll down one page</td>
                        </tr>
                        <tr>
                            <td><span class="key">Home</span></td>
                            <td data-i18n="keyboard.shortcuts.home">Jump to top</td>
                        </tr>
                        <tr>
                            <td><span class="key">End</span></td>
                            <td data-i18n="keyboard.shortcuts.end">Jump to bottom</td>
                        </tr>
                    </table>
                </span>
            </div>
        </div>
    </div>
    
    <!-- Breadcrumb Navigation -->
    <div id="breadcrumbContainer" class="sidebar-breadcrumb-container">
        <nav class="sidebar-breadcrumb-nav" id="sidebarBreadcrumbNav">
            <!-- Breadcrumbs will be populated by JavaScript -->
        </nav>
    </div>
</div>

<!-- Add bulk operations panel (initially hidden) -->
<div id="bulkOperationsPanel" class="bulk-operations-panel hidden">
    <div class="bulk-operations-header">
        <span id="selectedCount" class="selectable-count" title="Click to view selected items">
            0 selected <i class="fas fa-caret-down dropdown-caret"></i>
        </span>
        <div class="bulk-operations-actions">
            <button data-action="send-to-workflow" data-i18n="loras.bulkOperations.sendToWorkflow" data-i18n-target="title" title="Send all selected LoRAs to workflow">
                <i class="fas fa-arrow-right"></i> <span data-i18n="loras.bulkOperations.sendToWorkflow">Send to Workflow</span>
            </button>
            <button data-action="copy-all" data-i18n="loras.bulkOperations.copyAll" data-i18n-target="title" title="Copy all selected LoRAs syntax">
                <i class="fas fa-copy"></i> <span data-i18n="loras.bulkOperations.copyAll">Copy All</span>
            </button>
            <button data-action="refresh-all" data-i18n="loras.bulkOperations.refreshAll" data-i18n-target="title" title="Refresh CivitAI metadata for selected models">
                <i class="fas fa-sync-alt"></i> <span data-i18n="loras.bulkOperations.refreshAll">Refresh All</span>
            </button>
            <button data-action="move-all" data-i18n="loras.bulkOperations.moveAll" data-i18n-target="title" title="Move selected models to folder">
                <i class="fas fa-folder-open"></i> <span data-i18n="loras.bulkOperations.moveAll">Move All</span>
            </button>
            <button data-action="delete-all" data-i18n="loras.bulkOperations.deleteAll" data-i18n-target="title" title="Delete selected models" class="danger-btn">
                <i class="fas fa-trash"></i> <span data-i18n="loras.bulkOperations.deleteAll">Delete All</span>
            </button>
            <button data-action="clear" data-i18n="loras.bulkOperations.clear" data-i18n-target="title" title="Clear selection">
                <i class="fas fa-times"></i> <span data-i18n="loras.bulkOperations.clear">Clear</span>
            </button>
        </div>
    </div>
</div>